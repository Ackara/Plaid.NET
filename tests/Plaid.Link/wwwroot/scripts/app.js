var App;!function(e){var t=function(){function e(e){e(this.pass.bind(this),this.reject.bind(this))}return e.prototype.then=function(e){return this.thenCallback=e,this},e.prototype.catch=function(e){return this.catchCallback=e,this},e.prototype.finally=function(e){this.finalCallback=e},e.prototype.pass=function(e){this.thenCallback&&this.thenCallback(e||!0),this.finalCallback&&this.finalCallback()},e.prototype.reject=function(e){this.catchCallback&&this.catchCallback(e),this.finalCallback&&this.finalCallback()},e}();e.ServerPromise=t;var n=function(){function e(){}return e.getAccesssToken=function(e,t){return t.publicToken=e,this.sendHttpRequest("POST","Plaid/GetAccessToken",{body:t})},e.sendHttpRequest=function(a,i,c){return new t(function(t,n){var s="application/json; charset=utf-8";c||(c={}),c.hasOwnProperty("contentType")||(c.contentType="object"==typeof c.body?s:null);var e=new XMLHttpRequest;if(e.open(a,i,!0),c.contentType&&e.setRequestHeader("Content-Type",c.contentType),c.headers)for(var o=0;o<c.headers.length;o++)e.setRequestHeader(c.headers[o].name,c.headers[o].value);e.onreadystatechange=function(){if(4===this.readyState){var e=this.getResponseHeader("Content-Type")===s?JSON.parse(this.responseText):this.responseText;200<=this.status&&this.status<=299?(t(e),e||console.warn(a+" "+this.responseURL+": NO CONTENT")):(n({status:this.status,url:this.responseURL,data:e,message:(a+" "+this.responseURL+": "+this.status+" "+("object"!=typeof e?this.responseText:"")).trim()}),console.debug(e))}},e.onerror=function(){n({message:"Network Error"})},c.contentType===s?e.send(JSON.stringify(c.body)):e.send(c.body)})},e}();e.Server=n}(App||(App={})),function(s){var e=function(e){var n=this;this.accessToken=ko.observable("");var t=Plaid.create({token:e.token,onSuccess:function(e,t){console.debug(t),s.Server.getAccesssToken(e,t).then(function(e){console.debug(e),n.accessToken(e.accessToken)})},onExit:function(e,t){}});document.getElementById("link-button").addEventListener("click",function(){t.open()})};s.IndexPage=e}(App||(App={}));
//# sourceMappingURL=app.js.map